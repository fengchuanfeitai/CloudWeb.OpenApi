@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Shared/_layout.cshtml";
}

<style>
    .layui-form-label {
        width: 80px;
    }
</style>

<div class="layui-fluid">
    <div class="layui-row">
        <form class="layui-form" action="">
            <div class="layui-form-item">
                <label for="title" class="layui-form-label">
                    <span class="x-red">*</span>标题
                </label>
                <div class="layui-input-block">
                    <input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="请输入标题，最多输入500个字符" lay-reqtext="标题为必填项，不能为空" class="layui-input">
                    <div class="layui-form-mid layui-word-aux">
                        <span class="x-red">*</span>不发布前台则无法显示
                    </div>
                </div>
            </div>
            <div class="layui-form-item">
                <label for="title" class="layui-form-label">
                    <span class="x-red">*</span>所属栏目类别
                </label>
                <div class="layui-input-inline">
                    <select name="interest" lay-filter="aihao">
                        <option value=""></option>
                        <option value="0">写作</option>
                        <option value="1" selected="">阅读</option>
                        <option value="2">游戏</option>
                        <option value="3">音乐</option>
                        <option value="4">旅行</option>
                    </select>
                </div>
            </div>

            <div class="layui-form-item">
                <div class="layui-inline">
                    <label for="title" class="layui-form-label">
                        是否发布
                    </label>
                    <div class="layui-input-inline">
                        <input type="checkbox" checked name="close" lay-skin="switch" lay-text="发布|不发布">
                    </div>
                    <div class="layui-form-mid layui-word-aux">
                        <span class="x-red">*</span>不发布前台则无法显示
                    </div>
                </div>
                <div class="layui-inline">
                    <label class="layui-form-label">发布时间</label>
                    <div class="layui-input-inline">
                        <input type="text" name="email" id="start" placeholder="yyyy-MM-dd HH:mm:ss" autocomplete="off" class="layui-input">
                    </div>
                    <div class="layui-form-mid layui-word-aux">
                        <span class="x-red">*</span>不填，默认当前时间
                    </div>
                </div>
            </div>

            <div class="layui-form-item">
                <div class="layui-inline">
                    <label class="layui-form-label">推荐到首页</label>
                    <div class="layui-input-inline">
                        <input type="checkbox" name="close" lay-skin="switch" lay-text="ON|OFF">
                    </div>
                    @*<div class="layui-form-mid layui-word-aux">
                            <span class="x-red">*</span>不发布前台则无法显示
                        </div>*@
                </div>
                <div class="layui-inline">
                    <label class="layui-form-label">添加到轮播</label>
                    <div class="layui-input-inline">
                        <input type="checkbox" name="close" lay-skin="switch" lay-text="ON|OFF">
                    </div>
                </div>
            </div>

            <div class="layui-form-item">
                <label class="layui-form-label">排序</label>
                <div class="layui-input-inline">
                    <input type="text" name="identity" lay-verify="" placeholder="" autocomplete="off" class="layui-input">
                </div>
                <div class="layui-form-mid layui-word-aux">
                    <span class="x-red">*</span>数字越小排序越靠前，不填写，默认最后展示
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">跳转链接</label>
                <div class="layui-input-inline">
                    <input type="text" name="password" placeholder="" autocomplete="off" class="layui-input">
                </div>
                <div class="layui-form-mid layui-word-aux">网络链接地址</div>
            </div>
            <div class="layui-form-item">
                <label for="ImgUrl1" class="layui-form-label">
                    <span class="x-red">*</span>封面
                </label>
                <!--文件地址-->
                <input type="hidden" value="" name="ImgUrl1" id="ImgUrl1" />
                <div class="layui-input-block">
                    <div class="layui-upload-drag" style="border:1px dashed #c0ccda; border-radius:6px;padding:10px" id="logoUpload">
                        <p>点击上传，或将图片拖拽到此处</p>
                        <p>尺寸建议上传像素</p>
                        <div class="layui-hide" id="logoImg">
                            <hr>
                            <img src="" alt="上传成功后渲染" style="height:20%;width:20%;">
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-form-item layui-form-text">
                <label class="layui-form-label">内容</label>
                <div class="layui-input-block">
                    <textarea placeholder="请输入内容" class="layui-textarea"></textarea>
                </div>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-block">
                    <button type="submit" class="layui-btn" lay-submit="" lay-filter="demo1">立即提交</button>
                    <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                </div>
            </div>
        </form>
    </div>
</div>
<script language="javascript">

    $(function () {
        layui.use('upload', function () {
            var $ = layui.jquery
                , upload = layui.upload;
            //Logo图片拖拽上传
            upload.render({
                elem: '#logoUpload',
                url: "https://localhost:44377/api/admin/upload", //上传接口
                method: 'Post',
                type: 'images',
                ext: 'jpg|png|gif',
                size: "2048",
                //成功后回调
                done: function (res) {
                    if (res.code === 200) {
                        layer.msg('上传成功');
                        //绑定图片地址
                        $("#ImgUrl1").val(res.data);
                        layui.$('#logoImg').removeClass('layui-hide').find('img').attr('src', res.data);
                    }
                    else {
                        layer.msg('上传失败');
                    }

                    console.log(res)
                }
            });

            //$.ajax({
            //    type: "get",
            //    url: "https://localhost:44377/api/admin/Content/GetContent",
            //    data: { id: 33 },
            //    success: function (res) {

            //        console.log(res);
            //        var result = res.data;
            //        $("#colName").val(result.colName);
            //        $("#CoverUrl").val(result.colName);
            //        $("#Icon").val(result.colName);
            //        $("#Summary").val(result.colName);
            //        $("#Video").val(result.colName);
            //        $("#sort").val(result.colName);
            //        $("#LocationUrl").val(result.colName);
            //        $("#IsShow").val(result.colName);
            //        $("#ImgDesc1").val(result.colName);
            //        $("#ImgDesc2").val(result.colName);
            //    }
            //});
        })
</script>
<script src="~/Scripts/content/edit.js?@DateTime.Now.ToString("yyyymmddhhMMss")"></script>
